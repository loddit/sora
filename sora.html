<template name="dashboardPage">
  <div id="sidebar">
    {{> logo}}
    {{> channels}}
    {{> users}}
  </div>
  <div id="main">
    {{> loginButtons align="right"}}
    {{> messages}}
    {{> messageForm}}
  </div>
</template>

<template name="logo">
  <div>
    <h1 id="logo">Sora</h1>
    <small> a mini team chat toolset</small>
  </div>
</template>

<template name="messageForm">
  <form id="message-form">
    <input type="text" id="message-input">
    <input type="submit">
  </form>
</template>

<template name="messages">
  <div id="messages">
    <ul>
      {{#each messages}}
        {{> message}}
      {{/each}}
    </ul>
  </div>
</template>

<template name="message">
  <li>{{userName}}:
    <small class="time">
      {{createdAt}}
    </small>
    <blockquote>
      {{body}}
    </blockquote>
  </li>
</template>

<template name="channels">
  <h4>
      Channel
      <a href="#" id="toggle-manager">manage</a>
  </h4>
  <div id="channel-list">
    <ul>
      {{#each joinedChannels}}
        {{> channel}}
      {{/each}}
    </ul>
  </div>
  {{> channelManager}}
</template>

<template name="channelManager">
  <div id="channel-manager">
    <ul>
      {{#each allChannels}}
        {{> channel}}
      {{/each}}
    </ul>
    <form id="channel-create">
      <span>Create new Channel</span>
      <input type="text">
      <button> Create </button>
    </form>
  </div>
</template>

<template name="channel">
  <li class={{#if isCurrentChannel}}selected{{/if}}>
    <a href="{{pathFor 'channelPage'}}">#{{name}}</a>
    {{#if isMyOwn}}
      <a href="#" class="channel-action delete">x</a>
    {{else}}
      {{#if isJoined}}
        <a href="#" class="channel-action leave">LEAVE</a>
      {{else}}
        <a href="#" class="channel-action join">JOIN</a>
      {{/if}}
    {{/if}}
  </li>
</template>

<template name="users">
  <h4>Metion</h4>
  <ul>
    {{#each users}}
      {{> user}}
    {{/each}}
  </ul>
</template>

<template name="user">
  <li class={{#if isCurrentMetion}}selected{{/if}}>
    <a href="{{pathFor 'metionPage'}}">@{{username}}</a>
  </li>
</template>
